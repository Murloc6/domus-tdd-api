{"@context": ["https://www.w3.org/2022/wot/td/v1.1", "https://w3c.github.io/wot-discovery/context/discovery-context.jsonld", {"@language": "en"}], "id": "urn:uuid:55f01138-5c96-4b3d-a5d0-81319a2db677", "@type": "Thing", "securityDefinitions": {"nosec_sc": {"scheme": "nosec"}}, "description": "A smart coffee machine with a range of capabilities.\nA complementary tutorial is available at http://www.thingweb.io/smart-coffee-machine.html.", "actions": {"setSchedule": {"description": "Add a scheduled task to the schedules property. Accepts drink id, size, quantity, time and mode as body of a request.\nAssumes one medium americano if not specified, but time and mode are mandatory fields.", "forms": [{"contentType": "application/json", "op": "invokeaction", "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/actions/setSchedule"}, {"htv:methodName": "POST", "contentType": "application/json", "op": "invokeaction", "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/actions/setSchedule"}], "input": {"type": "object", "properties": {"drinkId": {"type": "string", "description": "Defines what drink to make, drinkId is one of possibleDrinks property values, e.g. latte."}, "time": {"type": "string", "description": "Defines the time of the scheduled task in 24h format, e.g. 10:00 or 21:00."}, "mode": {"type": "string", "enum": ["everyWe", "everyMo", "everyFr", "everySun", "once", "everySat", "everyTh", "everyday", "everyTu"], "description": "Defines the mode of the scheduled task, e.g. once or everyday. All the possible values are given in the enum field of this Thing Description."}, "size": {"type": "string", "enum": ["m", "s", "l"], "description": "Defines the size of a drink, s = small, m = medium, l = large."}, "quantity": {"type": "integer", "maximum": 5, "minimum": 1, "description": "Defines how many drinks to make, ranging from 1 to 5."}}, "required": ["mode", "time"]}, "output": {"type": "object", "properties": {"message": {"type": "string"}, "result": {"type": "boolean"}}, "description": "Returns true/false and a message when all invoked promises are resolved (asynchronous)."}, "idempotent": false, "safe": false}, "makeDrink": {"description": "Make a drink from available list of beverages. Accepts drink id, size and quantity as uriVariables.\nBrews one medium americano if no uriVariables are specified.", "forms": [{"htv:methodName": "POST", "contentType": "application/json", "op": "invokeaction", "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/actions/makeDrink{?drinkId,size,quantity}"}, {"contentType": "application/json", "op": "invokeaction", "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/actions/makeDrink"}], "output": {"type": "object", "properties": {"result": {"type": "boolean"}, "message": {"type": "string"}}, "description": "Returns true/false and a message when all invoked promises are resolved (asynchronous)."}, "uriVariables": {"size": {"description": "Defines the size of a drink, s = small, m = medium, l = large.", "enum": ["m", "s", "l"], "type": "string"}, "drinkId": {"description": "Defines what drink to make, drinkId is one of possibleDrinks property values, e.g. latte.", "type": "string"}, "quantity": {"description": "Defines how many drinks to make, ranging from 1 to 5.", "maximum": 5, "minimum": 1, "type": "integer"}}, "idempotent": false, "safe": false}}, "events": {"outOfResource": {"description": "Out of resource event. Emitted when the available resource level is not sufficient for a desired drink.", "forms": [{"contentType": "application/json", "subprotocol": "longpoll", "op": ["subscribeevent", "unsubscribeevent"], "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/events/outOfResource"}, {"contentType": "application/json", "op": "subscribeevent", "href": "ws://plugfest.thingweb.io:8083/smart-coffee-machine/events/outOfResource"}, {"contentType": "application/json", "op": ["subscribeevent", "unsubscribeevent"], "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/events/outOfResource"}], "data": {"type": "string"}}}, "forms": [{"contentType": "application/json", "op": ["writeallproperties", "writemultipleproperties", "readallproperties", "readmultipleproperties"], "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/all/properties"}], "properties": {"servedCounter": {"type": "integer", "minimum": 0, "readOnly": false, "writeOnly": false, "description": "The total number of served beverages.", "forms": [{"contentType": "application/json", "op": ["writeproperty", "readproperty"], "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/servedCounter"}, {"contentType": "application/json", "op": ["writeproperty", "readproperty"], "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/properties/servedCounter"}], "observable": false}, "availableResourceLevel": {"type": "number", "readOnly": false, "writeOnly": false, "description": "Current level of a particular resource. Requires resource id variable as uriVariables.\nThe property can also be overridden, which also requires resource id as uriVariables.", "forms": [{"contentType": "application/json", "op": ["writeproperty", "readproperty"], "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/properties/availableResourceLevel"}, {"contentType": "application/json", "op": ["writeproperty", "readproperty"], "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/availableResourceLevel{?id}"}], "uriVariables": {"id": {"type": "string", "enum": ["water", "coffeeBeans", "milk", "chocolate"]}}, "observable": false}, "allAvailableResources": {"type": "object", "properties": {"coffeeBeans": {"type": "integer", "maximum": 100, "minimum": 0}, "chocolate": {"type": "integer", "maximum": 100, "minimum": 0}, "water": {"type": "integer", "maximum": 100, "minimum": 0}, "milk": {"type": "integer", "maximum": 100, "minimum": 0}}, "readOnly": true, "writeOnly": false, "description": "Current level of all available resources given as an integer percentage for each particular resource.\nThe data is obtained from the machine's sensors but can be set manually via the availableResourceLevel property in case the sensors are broken.", "forms": [{"contentType": "application/json", "op": "readproperty", "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/properties/allAvailableResources"}, {"htv:methodName": "GET", "contentType": "application/json", "op": "readproperty", "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/allAvailableResources"}], "observable": false}, "schedules": {"type": "array", "items": {"type": "object", "properties": {"drinkId": {"type": "string", "description": "Defines what drink to make, drinkId is one of possibleDrinks property values, e.g. latte."}, "time": {"type": "string", "description": "Defines the time of the scheduled task in 24h format, e.g. 10:00 or 21:00."}, "size": {"type": "string", "enum": ["m", "s", "l"], "description": "Defines the size of a drink, s = small, m = medium, l = large."}, "quantity": {"type": "integer", "maximum": 5, "minimum": 1, "description": "Defines how many drinks to make, ranging from 1 to 5."}, "mode": {"type": "string", "enum": ["everySun", "once", "everySat", "everyMo", "everyWe", "everyTu", "everyday", "everyFr", "everyTh"], "description": "Defines the mode of the scheduled task, e.g. once or everyday. All the possible values are given in the enum field of this Thing Description."}}}, "readOnly": true, "writeOnly": false, "description": "The list of scheduled tasks.", "forms": [{"htv:methodName": "GET", "contentType": "application/json", "op": "readproperty", "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/schedules"}, {"contentType": "application/json", "op": "readproperty", "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/properties/schedules"}], "observable": false}, "maintenanceNeeded": {"type": "boolean", "readOnly": false, "writeOnly": false, "description": "Shows whether a maintenance is needed. The property is observable. Automatically set to true when the servedCounter property exceeds 1000.", "forms": [{"contentType": "application/json", "op": ["writeproperty", "readproperty"], "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/maintenanceNeeded"}, {"contentType": "application/json", "op": ["observeproperty", "writeproperty", "unobserveproperty", "readproperty"], "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/properties/maintenanceNeeded"}, {"contentType": "application/json", "subprotocol": "longpoll", "op": ["observeproperty", "unobserveproperty"], "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/maintenanceNeeded/observable"}], "observable": true}, "possibleDrinks": {"type": "array", "items": {"type": "string"}, "readOnly": true, "writeOnly": false, "description": "The list of possible drinks in general. Doesn't depend on the available resources.", "forms": [{"contentType": "application/json", "op": "readproperty", "href": "coap://plugfest.thingweb.io:5683/smart-coffee-machine/properties/possibleDrinks"}, {"htv:methodName": "GET", "contentType": "application/json", "op": "readproperty", "href": "http://plugfest.thingweb.io:8083/smart-coffee-machine/properties/possibleDrinks"}], "observable": false}}, "security": "nosec_sc", "support": "git://github.com/eclipse/thingweb.node-wot.git", "title": "Smart-Coffee-Machine", "registration": {"created": "2022-03-17T17:03:48.095473+01:00", "retrieved": "2022-03-17T17:31:50.469472+01:00"}}